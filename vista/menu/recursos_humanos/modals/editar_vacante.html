<!-- Modal para editar requisición -->
<div class="modal fade" id="editarRequisicionModal" tabindex="-1" aria-labelledby="editarRequisicionModalLabel" aria-hidden="true" data-bs-backdrop="true" data-bs-keyboard="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content shadow-lg border-0">
            <div class="modal-header bg-gradient-warning text-white border-0">
                <h5 class="modal-title fw-bold" id="editarRequisicionModalLabel">
                    <i class="bi bi-pencil-square me-2"></i>Editar Requisición de Personal
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body bg-light" style="max-height: 70vh; overflow-y: auto;">
                <!-- Contenido del formulario -->
                <form id="formEditarRequisicion" name="formEditarRequisicion">
                    
                    <!-- Campos ocultos para identificación -->
                    <input type="hidden" id="editar_id_requisicion" name="id_requisicion">
                    <input type="hidden" id="editar_numero_requisicion" name="numero_requisicion">
                    <input type="hidden" id="editar_usuario_solicitante_id" name="usuario_solicitante_id">
                    <input type="hidden" id="editar_fecha_creacion" name="fecha_creacion">

                    <!-- INFORMACIÓN DE LA REQUISICIÓN -->
                    <div class="card mb-4 border-0 shadow-sm">
                        <div class="card-header bg-radient-custom border-0" style="color: #ffc107;">
                            <h6 class="mb-0 fw-bold"><i class="bi bi-info-circle me-2"></i>Información de la Requisición</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">No. Requisición</label>
                                        <input type="text" class="form-control-plaintext fw-bold text-primary" id="editarNumeroDisplay" readonly>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Fecha de Creación</label>
                                        <input type="text" class="form-control-plaintext" id="editarFechaDisplay" readonly>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Creado por</label>
                                        <input type="text" class="form-control-plaintext" id="editarSolicitanteDisplay" readonly>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="editarEstatus" class="form-label fw-bold">Estado de la Requisición</label>
                                        <select class="form-select rounded-3 border-2" id="editarEstatus" name="estatus" required>
                                            <option value="borrador">Borrador</option>
                                            <option value="en_proceso">En proceso de aprobación</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- INFORMACIÓN GENERAL -->
                    <div class="card mb-4 border-0 shadow-sm">
                        <div class="card-header bg-radient-custom border-0" style="color: #ffc107;">
                            <h6 class="mb-0 fw-bold"><i class="bi bi-info-circle me-2"></i>Información General</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editarDepartamento" class="form-label">Departamento</label>
                                        <select class="form-select rounded-3 border-2" id="editarDepartamento" name="departamento" required>
                                            <option value="">Seleccionar departamento...</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editarMotivo" class="form-label">Motivo de la Requisición</label>
                                        <select class="form-select rounded-3 border-2" id="editarMotivo" name="motivo" required>
                                            <option value="">Seleccionar motivo...</option>                                           
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="editarPrioridad" class="form-label">Prioridad</label>
                                        <select class="form-select rounded-3 border-2" id="editarPrioridad" name="prioridad" required>
                                            <option value="normal">Normal</option>
                                            <option value="urgente">Urgente</option>
                                            <option value="baja">Baja</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- DETALLES DEL PUESTO -->
                    <div class="card mb-4 border-0 shadow-sm">
                        <div class="card-header bg-radient-custom border-0" style="color: #ffc107;">
                            <h6 class="mb-0 fw-bold"><i class="bi bi-briefcase me-2"></i>Detalles del Puesto</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editarPuesto" class="form-label">Cargo o Título Solicitado</label>
                                        <select class="form-select rounded-3 border-2" id="editarPuesto" name="puesto">
                                            <option value="">Seleccionar puesto...</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editarTipoContrato" class="form-label">Tipo de Contrato</label>
                                        <select class="form-select rounded-3 border-2" id="editarTipoContrato" name="tipo_contrato" required>
                                            <option value="">Seleccionar tipo...</option>
                                            <option value="permanente">Permanente</option>
                                            <option value="temporal">Temporal</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editarTipoJornada" class="form-label">Tipo de Jornada</label>
                                        <select class="form-select rounded-3 border-2" id="editarTipoJornada" name="tipo_jornada" required>
                                            <option value="">Seleccionar jornada...</option>
                                            <option value="tiempo_completo">Tiempo completo</option>
                                            <option value="medio_tiempo">Medio tiempo</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editarTipoModalidad" class="form-label">Tipo de Modalidad</label>
                                        <select class="form-select rounded-3 border-2" id="editarTipoModalidad" name="tipo_modalidad" required>
                                            <option value="">Seleccionar tipo...</option>
                                            <option value="presencial">Presencial</option>
                                            <option value="remoto">Remoto</option>
                                            <option value="hibrido">Híbrido</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PERFIL DESEADO
                    <div class="card mb-4 border-0 shadow-sm">
                        <div class="card-header bg-radient-custom border-0" style="color: #ffc107;">
                            <h6 class="mb-0 fw-bold"><i class="bi bi-person-badge me-2"></i>Perfil Deseado</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editar_escolaridad_minima" class="form-label">Escolaridad Mínima Requerida</label>
                                        <select class="form-select rounded-3 border-2" id="editar_escolaridad_minima" name="escolaridad_minima" required>
                                            <option value="">Seleccionar escolaridad...</option>
                                            <option value="primaria">Primaria</option>
                                            <option value="secundaria">Secundaria</option>
                                            <option value="preparatoria">Preparatoria/Bachillerato</option>
                                            <option value="tecnico">Técnico</option>
                                            <option value="licenciatura">Licenciatura</option>
                                            <option value="maestria">Maestría</option>
                                            <option value="doctorado">Doctorado</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="editar_experiencia_anos" class="form-label">Experiencia Laboral (años)</label>
                                        <select class="form-select rounded-3 border-2" id="editar_experiencia_anos" name="experiencia_anos" required>
                                            <option value="">Seleccionar experiencia...</option>
                                            <option value="Sin experiencia">Sin experiencia</option>
                                            <option value="1 año">1 año</option>
                                            <option value="2 años">2 años</option>
                                            <option value="3 años">3 años</option>
                                            <option value="4 años">4 años</option>
                                            <option value="más de 5 años">Más de 5 años</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="editar_experiencia_area" class="form-label">Área de Experiencia</label>
                                <input type="text" class="form-control rounded-3 border-2" id="editar_experiencia_area" name="experiencia_area" placeholder="Ej: Ventas, Marketing, Administración...">
                            </div>
                            <div class="mb-3">
                                <label for="editar_conocimientos_tecnicos" class="form-label">Conocimientos Específicos o Técnicos</label>
                                <textarea class="form-control rounded-3 border-2" id="editar_conocimientos_tecnicos" name="conocimientos_tecnicos" rows="3" placeholder="Ej: Office, sistemas específicos, certificaciones..."></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="editar_habilidades_blandas" class="form-label">Habilidades Blandas Esperadas</label>
                                <textarea class="form-control rounded-3 border-2" id="editar_habilidades_blandas" name="habilidades_blandas" rows="3" placeholder="Ej: Trabajo en equipo, comunicación efectiva, liderazgo..."></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="editar_idiomas" class="form-label">Idiomas Requeridos</label>
                                <input type="text" class="form-control rounded-3 border-2" id="editar_idiomas" name="idiomas" placeholder="Ej: Inglés intermedio, Francés básico...">
                            </div>
                        </div>
                    </div> -->

                    <!-- CONDICIONES LABORALES -->
                    <div class="card mb-4 border-0 shadow-sm">
                        <div class="card-header bg-radient-custom border-0" style="color: #ffc107;">
                            <h6 class="mb-0 fw-bold"><i class="bi bi-clock me-2"></i>Condiciones Laborales</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3" id="editarDiasTrabajoContainer">
                                        <label for="diaTrabajo" class="form-label">Días de Trabajo</label>
                                        <div class="input-group">
                                            <select class="form-select rounded-3 border-2" id="editarDiasTrabajo" name="dias_trabajo" required>
                                                <option value="">Seleccionar días...</option>
                                                <option value="L-V">Lunes a Viernes</option>
                                                <option value="L-S">Lunes a Sábado</option>
                                                <option value="L-D">Lunes a Domingo</option>
                                                <option value="fines_semana">Fines de semana</option>
                                                <option value="otro">Otro</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="horarioTrabajo" class="form-label">Horario de Trabajo</label>
                                        <!-- Input para días personalizados (inicialmente oculto) -->
                                        <div class="input-group mt-2" id="diasPersonalizadosContainer" style="display: none;">
                                            <input type="text" class="form-control rounded-3 border-2" id="editarDiasPersonalizados" name="dias_personalizados" placeholder="Especifique los días de trabajo...">
                                        </div>
                                        
                                        <div class="input-group mt-2" id="editarHorasTrabajoContainer" style="display: none;">
                                            <input type="time" class="form-control rounded-3 border-2" id="editarHoraInicio" name="hora_inicio" required>
                                            <span class="input-group-text">a</span>
                                            <input type="time" class="form-control rounded-3 border-2" id="editarHoraFin" name="hora_fin" required>
                                        </div>
                                    </div>
                                 </div>
                               <!-- <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">Rango Salarial (Opcional)</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control rounded-3 border-2" id="salario_min" name="salario_min" placeholder="Mínimo" min="0" step="100">
                                            <span class="input-group-text">-</span>
                                            <input type="number" class="form-control rounded-3 border-2" id="salario_max" name="salario_max" placeholder="Máximo" min="0" step="100">
                                        </div>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                    </div>


                    <!-- JUSTIFICACIÓN -->
                    <div class="card mb-4 border-0 shadow-sm">
                        <div class="card-header bg-radient-custom border-0" style="color: #ffc107;">
                            <h6 class="mb-0 fw-bold"><i class="bi bi-justify-left me-2"></i>Descripción</h6>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label for="editarJustificacion" class="form-label">Descripción de la Requisición</label>
                                <textarea class="form-control rounded-3 border-2" id="editarJustificacion" name="justificacion" rows="4" placeholder="Explique las razones por las cuales se requiere cubrir esta vacante..." required></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- OBSERVACIONES DE APROBACIÓN (Solo visible si es necesario) -->
                    <div class="card mb-4 border-0 shadow-sm" id="editarSeccionObservaciones" style="display: none;">
                        <div class="card-header bg-radient-custom border-0" style="color: #ffc107;">
                            <h6 class="mb-0 fw-bold"><i class="bi bi-check-circle me-2"></i>Información de Aprobación</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Estado Actual</label>
                                        <div class="p-3 bg-light rounded border">
                                            <span id="editarEstatusDisplay" class="badge bg-gradient-primary fs-6">Borrador</span>
                                        </div>
                                        <div class="form-text">
                                            <i class="bi bi-clock me-1"></i>
                                            La fecha de aprobación se registrará automáticamente con su usuario
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="mb-3">
                                <label for="editarObservacionesAprobacion" class="form-label fw-bold">Observaciones de Aprobación/Rechazo</label>
                                <textarea class="form-control rounded-3 border-2" id="editarObservacionesAprobacion" name="observaciones_aprobacion" rows="3" placeholder="Agregar observaciones sobre la aprobación, rechazo o comentarios adicionales..."></textarea>
                                <div class="form-text">
                                    <i class="bi bi-pencil me-1"></i>
                                    Opcional: Agregue comentarios sobre la decisión tomada
                                </div>
                            </div> -->
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer bg-light border-0">
                <button type="button" class="btn btn-outline-secondary rounded-pill px-4" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle me-2"></i>Cancelar
                </button>
                <button type="submit" form="formEditarRequisicion" class="btn btn-gradient-warning rounded-pill px-4 fw-bold">
                    <i class="bi bi-check-circle me-2"></i>Actualizar Requisición
                </button>
            </div>
        </div>
    </div>
</div>

<style>
/* Estilos adicionales para el modal de edición */
.bg-gradient-warning {
    background: linear-gradient(135deg, #ffc107 0%, #ff8a00 100%);
}

.btn-gradient-warning {
    background: linear-gradient(135deg, #ffc107 0%, #ff8a00 100%);
    border: none;
    color: white;
    transition: all 0.3s ease;
}

.btn-gradient-warning:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 15px rgba(255, 193, 7, 0.3);
    color: white;
}

.form-control-plaintext {
    padding-left: 0;
    padding-right: 0;
    border: none;
    background-color: transparent;
}

.text-primary {
    color: #0d6efd !important;
}
</style>