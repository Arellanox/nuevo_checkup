<!-- Modal para Registrar/Editar Orden de compra -->
<div class="modal fade" id="registrarOrdenCompraModal" tabindex="-1" aria-labelledby="registrarOrdenCompraModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content shadow-lg border-0">
      <div class="modal-header text-white" style="background-color: #004e59;">
        <div class="d-flex align-items-center">
          <i class="bi bi-cart-plus-fill me-2 fs-4"></i>
          <h5 class="modal-title mb-0" id="registrarOrdenCompraModalLabel">
            Registrar Orden de compra
          </h5>
        </div>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="registrarOrdenCompraForm">
          <input type="hidden" id="ID_ORDEN_COMPRA" name="ID_ORDEN_COMPRA" value="" />

          <!-- Información Básica -->
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-info-circle me-2" style="color: #004e59;"></i>Información General
              </h6>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="NUMERO_ORDEN_COMPRA" class="form-label">Número de Orden *</label>
                    <div class="input-group">
                      <input type="text" class="form-control" id="NUMERO_ORDEN_COMPRA" name="NUMERO_ORDEN_COMPRA"
                        placeholder="Ingrese el número de orden" required />
                    </div>
                    <div class="invalid-feedback">Este campo es obligatorio.</div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="FECHA_ORDEN_COMPRA" class="form-label">Fecha de Orden *</label>
                    <input type="date" class="form-control" id="FECHA_ORDEN_COMPRA" name="FECHA_ORDEN_COMPRA"
                      placeholder="Ingrese la fecha de orden" required />
                    <div class="invalid-feedback">Este campo es obligatorio.</div>
                  </div>
                </div>
              </div>
              <!-- Columna derecha -->
              <div class="col-md-12">
                <div class="mb-3">
                  <label class="form-label">
                    Artículos Requeridos <span class="text-danger">*</span>
                    <span class="badge bg-secondary ms-2" id="contadorArticulos">0 artículos</span>
                  </label>
                  <div class="d-grid gap-2">
                    <button type="button" class="btn btn-primary" id="btnAgregarArticulo">
                      <i class="bi bi-plus-circle"></i> Agregar Artículo
                    </button>
                  </div>
                </div>

                <!-- Tabla de artículos -->
                <div class="table-responsive" style="max-height: 400px; overflow-y: auto">
                  <table class="table table-bordered table-sm" id="tablaArticulosRequisicion">
                    <thead class="table-light sticky-top">
                      <tr>
                        <th style="width: 200px">Artículo</th>
                        <th style="width: 100px">Cantidad</th>
                        <th style="width: 200px">Observaciones</th>
                        <th style="width: 80px">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr id="filaVaciaArticulos">
                        <td colspan="4" class="text-center text-muted">
                          <i class="bi bi-inbox"></i><br />
                          No hay artículos agregados
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="ESTADO" class="form-label">Estado *</label>
                    <select class="form-select" id="ESTADO" name="ESTADO" required>
                      <option value="">Seleccione un estado</option>
                      <option value="BORRADOR">Borrador</option>
                      <option value="PENDIENTE">Enviar para aprobación</option>
                    </select>
                    <div class="invalid-feedback">Este campo es obligatorio.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Información Financiera -->
          <!-- <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-currency-dollar me-2" style="color: #004e59;"></i>Información Financiera
              </h6>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="SUBTOTAL" class="form-label">Subtotal *</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="number" class="form-control" id="SUBTOTAL" name="SUBTOTAL" placeholder="0.00"
                        step="0.01" min="0" required readonly style="cursor: not-allowed;" />
                    </div>
                    <div class="invalid-feedback">Este campo es obligatorio.</div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="IVA" class="form-label">IVA *</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="number" class="form-control" id="IVA" name="IVA" placeholder="0.00" step="0.01"
                        min="0" required readonly style="cursor: not-allowed;" />
                    </div>
                    <div class="invalid-feedback">Este campo es obligatorio.</div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="TOTAL" class="form-label">Total *</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="number" class="form-control" id="TOTAL" name="TOTAL" placeholder="0.00" step="0.01"
                        min="0" required readonly style="cursor: not-allowed;" />
                    </div>
                    <div class="invalid-feedback">Este campo es obligatorio.</div>
                  </div>
                </div>
              </div>
            </div>
          </div> -->

          <!-- Observaciones -->
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-chat-text me-2" style="color: #004e59;"></i>Observaciones
              </h6>
            </div>
            <div class="card-body">
              <div class="mb-3">
                <label for="OBSERVACIONES" class="form-label">Observaciones</label>
                <textarea class="form-control" id="OBSERVACIONES" name="OBSERVACIONES" rows="3"
                  placeholder="Ingrese observaciones adicionales..."></textarea>
              </div>
            </div>
          </div>

          <!-- Estado -->
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-toggle2-on me-2" style="color: #004e59;"></i>Estado de Actividad
              </h6>
            </div>
            <div class="card-body">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="ACTIVO" name="ACTIVO" value="1" checked />
                <label class="form-check-label" for="ACTIVO">
                  <strong>Orden de compra activa</strong>
                  <small class="text-muted d-block">La orden estará disponible para su procesamiento</small>
                </label>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer border-0" style="background-color: #f8f9fa; border-top: 3px solid #004e59 !important;">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
          <i class="bi bi-x-lg"></i> Cancelar
        </button>
        <button type="submit" form="registrarOrdenCompraForm" class="btn"
          style="background-color: #004e59; color: white; border-color: #004e59;" id="btnGuardarOrdenCompra">
          <i class="bi bi-check-lg"></i> Guardar Orden
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal para Seleccionar Artículo -->
<div class="modal fade" id="seleccionarArticuloModal" tabindex="-1" aria-labelledby="seleccionarArticuloLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #004e59; color: white;">
        <h5 class="modal-title" id="seleccionarArticuloLabel">
          <i class="bi bi-search"></i> Seleccionar Artículo para Orden de Compra
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Filtros de búsqueda -->
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="buscarArticulo" class="form-label">Buscar Artículo</label>
            <input type="text" class="form-control" id="buscarArticulo"
              placeholder="Escriba el nombre o clave del artículo..." />
          </div>
          <div class="col-md-3">
            <label for="filtroStock" class="form-label">Filtrar por Stock</label>
            <select class="form-select" id="filtroStock">
              <option value="">Todos los artículos</option>
              <option value="disponible">Con existencias</option>
              <option value="minimo">Stock mínimo</option>
              <option value="agotado">Sin existencias</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">&nbsp;</label>
            <div class="d-grid">
              <button type="button" class="btn btn-outline-secondary" id="btnLimpiarFiltros">
                <i class="bi bi-arrow-clockwise"></i> Limpiar
              </button>
            </div>
          </div>
        </div>

        <!-- Tabla de artículos -->
        <div class="table-responsive" style="max-height: 500px">
          <table class="table table-hover table-striped" id="tablaSeleccionArticulos">
            <thead class="table-dark sticky-top">
              <tr>
                <th style="width: 80px;">Clave</th>
                <th style="width: 200px;">Nombre del Artículo</th>
                <th style="width: 100px;">Marca</th>
                <th style="width: 80px;">Stock</th>
                <th style="width: 60px;">Unidad</th>
                <th style="width: 150px;">Stock Mín/Máx</th>
                <th style="width: 200px;">Proveedores</th>
                <th style="width: 100px;">Acción</th>
              </tr>
            </thead>
            <tbody>
              <tr id="filaLoadingArticulos">
                <td colspan="8" class="text-center">
                  <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Cargando...</span>
                  </div>
                  <p class="mt-2">Cargando artículos...</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="bi bi-x-lg"></i> Cerrar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal para Configurar Artículo de Orden de Compra -->
<div class="modal fade" id="configurarArticuloOrdenModal" tabindex="-1" aria-labelledby="configurarArticuloOrdenLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #004e59; color: white;">
        <h5 class="modal-title" id="configurarArticuloOrdenLabel">
          <i class="bi bi-gear-fill"></i> Configurar Artículo para Orden de Compra
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="formConfigurarArticuloOrden">
          <input type="hidden" id="configurarArticuloId" />
          <input type="hidden" id="configurarArticuloJson" />
          <input type="hidden" id="configurarIndiceTabla" />

          <!-- Información del Artículo -->
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-box-seam me-2" style="color: #004e59;"></i>Información del Artículo
              </h6>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-2">
                    <small class="text-muted">Clave:</small>
                    <p id="configurarArticuloClave" class="fw-semibold mb-1">-</p>
                  </div>
                  <div class="mb-2">
                    <small class="text-muted">Nombre:</small>
                    <p id="configurarArticuloNombre" class="fw-semibold mb-1">-</p>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-2">
                    <small class="text-muted">Stock Actual:</small>
                    <p id="configurarArticuloStock" class="fw-semibold mb-1 text-info">-</p>
                  </div>
                  <div class="mb-2">
                    <small class="text-muted">Unidad:</small>
                    <p id="configurarArticuloUnidad" class="fw-semibold mb-1">-</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Configuración de la Orden -->
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-sliders me-2" style="color: #004e59;"></i>Configuración de la Orden
              </h6>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="configurarProveedor" class="form-label">Proveedor <span
                        class="text-danger">*</span></label>
                    <select class="form-select" id="configurarProveedor" required>
                      <option value="">Seleccione un proveedor</option>
                    </select>
                    <div class="form-text">Solo se muestran los proveedores asociados a este artículo</div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="configurarCantidad" class="form-label">Cantidad Solicitada <span
                        class="text-danger">*</span></label>
                    <div class="input-group">
                      <input type="number" class="form-control" id="configurarCantidad" min="0.01" step="0.01"
                        required />
                      <span class="input-group-text" id="configurarUnidadSpan">Unidad</span>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="configurarPrecioUnitario" class="form-label">Precio Unitario</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="number" class="form-control" id="configurarPrecioUnitario" min="0" step="0.01"
                        placeholder="0.00" required step="any" />
                    </div>
                    <div class="form-text">Este campo es obligatorio</div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">Subtotal Estimado</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="text" class="form-control" id="configurarSubtotalEstimado" readonly
                        placeholder="0.00" />
                    </div>
                  </div>
                </div>
              </div> -->
              <div class="mb-3">
                <label for="configurarObservaciones" class="form-label">Observaciones</label>
                <textarea class="form-control" id="configurarObservaciones" rows="3"
                  placeholder="Agregue observaciones especiales sobre este artículo..." maxlength="500"></textarea>
                <div class="form-text">Máximo 500 caracteres</div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="bi bi-x-lg"></i> Cancelar
        </button>
        <button type="button" class="btn btn-primary" id="btnConfirmarArticuloOrden">
          <i class="bi bi-check-lg"></i> Agregar a la Orden
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal para Editar Artículo en Orden -->
<div class="modal fade" id="editarArticuloOrdenModal" tabindex="-1" aria-labelledby="editarArticuloOrdenLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #004e59; color: white;">
        <h5 class="modal-title" id="editarArticuloOrdenLabel">
          <i class="bi bi-pencil-square"></i> Editar Artículo en Orden
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="formEditarArticuloOrden">
          <input type="hidden" id="editarArticuloId" />
          <input type="hidden" id="editarIndiceTabla" />

          <!-- Información del Artículo -->
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-box-seam me-2" style="color: #004e59;"></i>Información del Artículo
              </h6>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-2">
                    <small class="text-muted">Nombre:</small>
                    <p id="editarArticuloNombre" class="fw-semibold mb-1">-</p>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-2">
                    <small class="text-muted">Stock Actual:</small>
                    <p id="editarArticuloStock" class="fw-semibold mb-1 text-info">-</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Editar Configuración -->
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-header bg-light">
              <h6 class="card-title mb-0">
                <i class="bi bi-sliders me-2" style="color: #004e59;"></i>Modificar Configuración
              </h6>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="editarProveedor" class="form-label">Proveedor <span class="text-danger">*</span></label>
                    <select class="form-select" id="editarProveedor" required>
                      <option value="">Seleccione un proveedor</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="editarCantidad" class="form-label">Cantidad Solicitada <span
                        class="text-danger">*</span></label>
                    <input type="number" class="form-control" id="editarCantidad" min="0.01" step="0.01" required />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="editarPrecioUnitario" class="form-label">Precio Unitario</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="number" class="form-control" id="editarPrecioUnitario" min="0" step="0.01" />
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">Subtotal</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="text" class="form-control" id="editarSubtotalCalculado" readonly />
                    </div>
                  </div>
                </div>
              </div>
              <div class="mb-3">
                <label for="editarObservaciones" class="form-label">Observaciones</label>
                <textarea class="form-control" id="editarObservaciones" rows="3"
                  placeholder="Agregue observaciones especiales sobre este artículo..." maxlength="500"></textarea>
                <div class="form-text">Máximo 500 caracteres</div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="bi bi-x-lg"></i> Cancelar
        </button>
        <button type="button" class="btn btn-primary" id="btnConfirmarEdicionOrden">
          <i class="bi bi-check-lg"></i> Actualizar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal para Filtrar Proveedores -->
<div class="modal fade" id="filtrarOrdenesCompraModal" tabindex="-1" data-bs-backdrop="static" data-bs-focus="false"
  data-bs-keyboard="false" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">

    <div class="modal-content shadow-lg border-0">
      <div class="modal-header text-white" style="background-color: #004e59;">
        <div class="d-flex align-items-center">
          <i class="bi bi-funnel-fill me-2 fs-4"></i>
          <h5 class="modal-title mb-0" id="filtrarOrdenesCompraTitle">Filtrar Ordenes de Compra</h5>
        </div>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body container-fluid">
        <div class="container-fluid">
          <div class="row">
            <!-- Formulario para filtrar ordenes de compra -->
            <div class="col-12">
              <div class="text-start">
                <div class="shadow-sm rounded p-3 card-body">
                  <div class="row align-items-end">
                    <div class="col-12">
                      <form id="filtrarOrdenesCompraForm" name="filtrarOrdenesCompraForm">
                        <!-- Activo -->
                        <div class="card mb-3 border-0 shadow-sm">
                          <div class="card-header bg-light">
                            <h6 class="card-title mb-0">
                              <i class="bi bi-funnel me-2" style="color: #004e59;"></i>Filtros de Estado
                            </h6>
                          </div>
                          <div class="card-body">
                            <label class="form-label fw-semibold">Seleccione el estado de la orden de compra</label>
                            <div id="activoOrdenCompraRadios">
                              <input type="radio" class="btn-check" name="activoOrdenCompra" id="activoOrdenCompra1"
                                value="1">
                              <label class="btn btn-outline-corporativo" for="activoProveedor1"
                                style="border-color: #004e59; color: #004e59;">
                                <i class="bi bi-check-circle me-1"></i>Activo
                              </label>

                              <input type="radio" class="btn-check" name="activoOrdenCompra" id="activoOrdenCompra0"
                                value="0">
                              <label class="btn btn-outline-secondary" for="activoOrdenCompra0">
                                <i class="bi bi-x-circle me-1"></i>Inactivo
                              </label>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="col-12 d-flex justify-content-end">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer border-0" style="background-color: #f8f9fa; border-top: 3px solid #004e59 !important;">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
          <i class="bi bi-arrow-left-short"></i> Cancelar
        </button>
        <button type="submit" id="enviarFiltrosOrdenesCompraBtn" class="btn"
          style="background-color: #004e59; color: white; border-color: #004e59;" form="filtrarOrdenesCompraForm">
          <i class="bi bi-funnel"></i> Filtrar
        </button>
        <button type="button" id="resetFiltrosOrdenesCompraBtn" class="btn btn-outline-secondary"
          style="border-color: #004e59; color: #004e59;">
          <i class="bi bi-arrow-clockwise"></i> Restablecer
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal para Ver Orden de Compra -->
<div class="modal fade" id="verOrdenCompraModal" tabindex="-1" aria-labelledby="verOrdenCompraModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content border-0">
      <!-- Encabezado del Modal -->
      <div class="modal-header text-white" style="background-color: #004e59;">
        <div class="d-flex align-items-center">
          <i class="bi bi-file-earmark-text me-2 fs-4"></i>
          <h5 class="modal-title mb-0" id="verOrdenCompraModalLabel">Detalles de Orden de Compra</h5>
        </div>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Cuerpo del Modal -->
      <div class="modal-body p-0">
        <div class="container-fluid p-4">
          <div class="row">
            <!-- Columna Izquierda - Información Principal -->
            <div class="col-lg-6 pe-lg-3">
              <!-- Tarjeta de Información Básica -->
              <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header bg-light d-flex justify-content-between align-items-center">
                  <h6 class="mb-0">
                    <i class="bi bi-card-checklist me-2" style="color: #004e59;"></i>Información Básica
                  </h6>
                  <span id="verOrdenCompraEstado"></span>
                </div>
                <div class="card-body">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <div class="info-item">
                        <small class="text-muted d-block">Número de Orden</small>
                        <strong class="d-block fs-5 text-primary" id="verOrdenCompraNumero"></strong>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="info-item">
                        <small class="text-muted d-block">Fecha de Orden</small>
                        <strong class="d-block" id="verOrdenCompraFecha"></strong>
                      </div>
                    </div>
                    <!-- <div class="col-12">
                      <div class="info-item">
                        <small class="text-muted d-block">Proveedor Principal</small>
                        <strong class="d-block fs-6" id="verOrdenCompraProveedor"></strong>
                      </div>
                    </div> -->
                  </div>
                </div>
              </div>

              <!-- Tarjeta de Artículos -->
              <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header bg-light">
                  <h6 class="mb-0">
                    <i class="bi bi-box-seam me-2" style="color: #004e59;"></i>Artículos
                  </h6>
                </div>
                <div class="card-body">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <div class="info-item">
                        <small class="text-muted d-block">Cantidad de Artículos</small>
                        <strong class="d-block fs-4 text-primary" id="verOrdenCompraCantidadArticulos"></strong>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="info-item">
                        <small class="text-muted d-block">Proveedores Involucrados</small>
                        <strong class="d-block fs-4 text-info" id="verOrdenCompraCantidadProveedoresArticulos"></strong>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="info-item">
                        <small class="text-muted d-block">Lista de Artículos</small>
                        <div class="d-flex flex-wrap gap-2 mt-2" id="verOrdenCompraArticulos">
                          <span class="badge bg-light text-dark"></span>
                        </div>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="info-item">
                        <small class="text-muted d-block">Lista de Proveedores</small>
                        <div class="d-flex flex-wrap gap-2 mt-2" id="verOrdenCompraProveedoresArticulos">
                          <span class="badge bg-light text-dark"></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>

            <!-- Columna Derecha - Información Adicional -->
            <div class="col-lg-6 ps-lg-3">
              <!-- Tarjeta de Información Financiera -->
              <!-- <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header bg-light">
                  <h6 class="mb-0">
                    <i class="bi bi-cash-stack me-2" style="color: #004e59;"></i>Resumen Financiero
                  </h6>
                </div>
                <div class="card-body">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <div class="info-item text-center">
                        <small class="text-muted d-block">Subtotal</small>
                        <strong class="d-block fs-4 text-info" id="verOrdenCompraSubtotal"></strong>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="info-item text-center">
                        <small class="text-muted d-block">IVA (16%)</small>
                        <strong class="d-block fs-4 text-warning" id="verOrdenCompraIva"></strong>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="info-item text-center">
                        <small class="text-muted d-block">Total</small>
                        <strong class="d-block fs-3 text-success" id="verOrdenCompraTotal"></strong>
                      </div>
                    </div>
                    <div class="col-12 mt-3">
                      <div class="progress" style="height: 8px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100"
                          aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                      <small class="text-muted d-block text-center mt-1">100% del presupuesto asignado</small>
                    </div>
                  </div>
                </div>
              </div> -->

              <!-- Tarjeta de Personal -->
              <div class="card mb-4 border-0 shadow-sm">
                <div class="card-header bg-light">
                  <h6 class="mb-0">
                    <i class="bi bi-person-lines-fill me-2" style="color: #004e59;"></i>Responsables
                  </h6>
                </div>
                <div class="card-body">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <div class="info-item">
                        <small class="text-muted d-block">Creado por</small>
                        <div class="d-flex align-items-center mt-2">
                          <div
                            class="avatar bg-primary text-white rounded-circle me-2 d-flex align-items-center justify-content-center"
                            style="width: 32px; height: 32px;">
                            <i class="bi bi-person-fill"></i>
                          </div>
                          <strong class="d-block" id="verOrdenCompraResponsable"></strong>
                        </div>
                        <small class="text-muted d-block mt-1" id="verOrdenCompraFechaCreacion"></small>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="info-item">
                        <small class="text-muted d-block">Aprobado/Rechazado por</small>
                        <div class="d-flex align-items-center mt-2">
                          <div
                            class="avatar bg-success text-white rounded-circle me-2 d-flex align-items-center justify-content-center"
                            style="width: 32px; height: 32px;">
                            <i class="bi bi-check-circle-fill"></i>
                          </div>
                          <strong class="d-block" id="verOrdenCompraUsuarioAprobacion"></strong>
                        </div>
                        <small class="text-muted d-block mt-1" id="verOrdenCompraFechaAprobacion"></small>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="info-item">
                        <small class="text-muted d-block">Última Actualización</small>
                        <div class="d-flex align-items-center mt-2">
                          <div
                            class="avatar bg-secondary text-white rounded-circle me-2 d-flex align-items-center justify-content-center"
                            style="width: 32px; height: 32px;">
                            <i class="bi bi-arrow-repeat"></i>
                          </div>
                          <strong class="d-block" id="verOrdenCompraFechaActualizacion"></strong>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Tarjeta de Observaciones -->
              <div class="card border-0 shadow-sm">
                <div class="card-header bg-light">
                  <h6 class="mb-0">
                    <i class="bi bi-chat-square-text me-2" style="color: #004e59;"></i>Observaciones
                  </h6>
                </div>
                <div class="card-body">
                  <div class="info-item mb-3">
                    <small class="text-muted d-block">Observaciones de la Orden de Compra</small>
                    <div class="p-3 bg-light rounded mt-2" id="verOrdenCompraObservaciones">

                    </div>
                  </div>
                  <div class="info-item">
                    <small class="text-muted d-block">Comentarios de Aprobación/Rechazo</small>
                    <div class="p-3 bg-light rounded mt-2" id="verOrdenCompraObservacionesAprobacion">

                    </div>
                  </div>
                </div>
              </div>

              <!-- Tarjeta de Historial -->
              <!-- <div class="card border-0 shadow-sm">
                <div class="card-header bg-light">
                  <h6 class="mb-0">
                    <i class="bi bi-clock-history me-2" style="color: #004e59;"></i>Historial de Estados
                  </h6>
                </div>
                <div class="card-body">
                  <div class="timeline">
                    <div class="timeline-item">
                      <div class="timeline-point bg-primary"></div>
                      <div class="timeline-content">
                        <h6 class="mb-1">Creada</h6>
                        <p class="text-muted mb-0"></p>
                        <small class="text-muted">Por: <strong id="verOrdenCompraResponsableTimeLine"></strong></small>
                      </div>
                    </div>
                    <div class="timeline-item">
                      <div class="timeline-point bg-warning"></div>
                      <div class="timeline-content">
                        <h6 class="mb-1">En Revisión</h6>
                        <p class="text-muted mb-0"></p>
                        <small class="text-muted">Por: Sistema</small>
                      </div>
                    </div>
                    <div class="timeline-item">
                      <div class="timeline-point bg-success"></div>
                      <div class="timeline-content">
                        <h6 class="mb-1">Aprobada</h6>
                        <p class="text-muted mb-0"></p>
                        <small class="text-muted">Por:</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div> -->
            </div>
          </div>
        </div>
      </div>

      <!-- Pie del Modal -->
      <div class="modal-footer border-0" style="background-color: #f8f9fa;">
        <button type="button" class="btn btn-outline-secondary me-2" data-bs-dismiss="modal">
          <i class="bi bi-x-lg me-1"></i> Cerrar
        </button>
        <!-- <button type="button" class="btn text-white" style="background-color: #004e59;">
          <i class="bi bi-printer me-1"></i> Imprimir
        </button>
        <button type="button" class="btn btn-success">
          <i class="bi bi-file-earmark-pdf me-1"></i> Exportar PDF
        </button> -->
      </div>
    </div>
  </div>
</div>

<!-- Estilos adicionales -->
<style>
  .info-item {
    margin-bottom: 1rem;
  }

  .avatar {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
  }

  .timeline {
    position: relative;
    padding-left: 1rem;
  }

  .timeline-item {
    position: relative;
    padding-bottom: 1.5rem;
    padding-left: 1.5rem;
    border-left: 1px solid #dee2e6;
  }

  .timeline-item:last-child {
    padding-bottom: 0;
    border-left: 1px solid transparent;
  }

  .timeline-point {
    position: absolute;
    left: -0.5rem;
    top: 0;
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
  }

  .timeline-content {
    margin-left: 0.5rem;
  }

  .progress {
    background-color: #e9ecef;
  }
</style>

<style>
  /* Estilos corporativos para todos los modales de ordenes de compra */

  /* Colores corporativos */
  :root {
    --color-corporativo: #004e59;
    --color-corporativo-hover: #003d47;
    --color-corporativo-light: #f0f8f9;
  }

  /* Botones con estilo corporativo */
  #registrarOrdenCompraModal .btn:hover,
  #filtrarOrdenesCompraModal .btn:hover,
  #verOrdenCompraModal .btn:hover {
    background-color: var(--color-corporativo-hover) !important;
    border-color: var(--color-corporativo-hover) !important;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 78, 89, 0.2);
    transition: all 0.3s ease;
  }

  /* Efectos para cards en el modal de ver */
  #verOrdenCompraModal .card {
    transition: transform 0.2s ease;
  }

  #verOrdenCompraModal .card:hover {
    transform: translateY(-2px);
  }

  /* Efectos en iconos */
  #registrarOrdenCompraModal .bi,
  #filtrarOrdenesCompraModal .bi,
  #verOrdenCompraModal .bi {
    transition: transform 0.2s ease;
  }

  #verOrdenCompraModal .card-header:hover .bi {
    transform: scale(1.1);
  }

  /* Radio buttons corporativos */
  #filtrarOrdenesCompraModal .btn-check:checked+.btn-outline-corporativo {
    background-color: var(--color-corporativo) !important;
    border-color: var(--color-corporativo) !important;
    color: white !important;
  }

  #filtrarOrdenesCompraModal .btn-outline-corporativo:hover {
    background-color: var(--color-corporativo) !important;
    border-color: var(--color-corporativo) !important;
    color: white !important;
  }

  /* Formularios con mejor estilo */
  #registrarOrdenCompraModal .form-control:focus,
  #registrarOrdenCompraModal .form-select:focus {
    border-color: var(--color-corporativo);
    box-shadow: 0 0 0 0.2rem rgba(0, 78, 89, 0.15);
  }

  #registrarOrdenCompraModal .form-check-input:checked {
    background-color: var(--color-corporativo);
    border-color: var(--color-corporativo);
  }

  #registrarOrdenCompraModal .form-check-input:focus {
    box-shadow: 0 0 0 0.25rem rgba(0, 78, 89, 0.15);
  }

  /* Input groups con colores corporativos */
  #registrarOrdenCompraModal .input-group-text {
    background-color: var(--color-corporativo-light);
    border-color: #dee2e6;
    color: var(--color-corporativo);
    font-weight: 600;
  }

  /* Switch mejorado */
  #registrarOrdenCompraModal .form-switch .form-check-input:checked {
    background-color: var(--color-corporativo);
    border-color: var(--color-corporativo);
  }

  #registrarOrdenCompraModal .form-switch .form-check-input:focus {
    border-color: var(--color-corporativo);
    box-shadow: 0 0 0 0.25rem rgba(0, 78, 89, 0.15);
  }

  /* Sombras corporativas para modales */
  #registrarOrdenCompraModal .modal-content,
  #filtrarOrdenesCompraModal .modal-content,
  #verOrdenCompraModal .modal-content {
    box-shadow: 0 10px 30px rgba(0, 78, 89, 0.1);
  }

  /* Animaciones para inputs de números */
  #registrarOrdenCompraModal input[type="number"]:focus {
    transform: scale(1.02);
    transition: transform 0.2s ease;
  }
</style>

<!-- Incluir JavaScript para manejo de artículos -->
<script src="modals/js/articulos_orden_compra.js"></script>